@mixin mask-border($opening: null, $gap-height: 45, $corner-radius: 20, $stroke-width: 3.5, $inset: 0px) {
    position: relative;
    box-sizing: border-box;
    padding: calc(#{$stroke-width + 'px'} - 1px);
    border-radius: #{$corner-radius + 'px'};
    &:after {
        content: ' ';
        position: absolute;
        inset: $inset;
        background: linear-gradient(26deg, #ffcd29 0%, var(--wp--preset--color--accent-1) 25%, #ffcd29 50%, var(--wp--preset--color--accent-1) 75%, #ffcd29 100%);
        background-size: 200% 200%;
        animation: gradient-flow 6s ease infinite;
        mask-size: 100% 100%;
        mask-repeat: no-repeat;
        will-change: transform;
        
        z-index: 1;
        
        $half-stroke: $stroke-width / 2;
        $stroke-calc: calc(100% - #{$stroke-width}px);
        $gap-half: $gap-height / 2;
        $gap-calc: calc(#{$gap-height + '%'} + 2px);

        $gap-center: calc(50% - #{$gap-half + '%'});
        
        @if $opening == 'right' {
            mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cmask id='m'%3E%3Crect width='100%25' height='100%25' fill='black'/%3E%3Crect x='#{$half-stroke}' y='#{$half-stroke}' width='#{$stroke-calc}' height='#{$stroke-calc}' rx='#{$corner-radius}' ry='#{$corner-radius}' fill='none' stroke='white' stroke-width='#{$stroke-width}'/%3E%3Crect x='calc(100%25 - #{$stroke-width + 5}px)' y='#{$gap-center}' width='#{$stroke-width * 2 + 5}' height='#{$gap-calc}' fill='black'/%3E%3C/mask%3E%3C/defs%3E%3Crect width='100%25' height='100%25' mask='url(%23m)'/%3E%3C/svg%3E");
        } @else if $opening == 'left' {
            mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cmask id='m'%3E%3Crect width='100%25' height='100%25' fill='black'/%3E%3Crect x='#{$half-stroke}' y='#{$half-stroke}' width='#{$stroke-calc}' height='#{$stroke-calc}' rx='#{$corner-radius}' ry='#{$corner-radius}' fill='none' stroke='white' stroke-width='#{$stroke-width}'/%3E%3Crect x='-1' y='#{$gap-center}' width='#{$stroke-width * 2 + 5}' height='#{$gap-calc}' fill='black'/%3E%3C/mask%3E%3C/defs%3E%3Crect width='100%25' height='100%25' mask='url(%23m)'/%3E%3C/svg%3E");
        } @else if $opening == 'top' {
            mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cmask id='m'%3E%3Crect width='100%25' height='100%25' fill='black'/%3E%3Crect x='#{$half-stroke}' y='#{$half-stroke}' width='#{$stroke-calc}' height='#{$stroke-calc}' rx='#{$corner-radius}' ry='#{$corner-radius}' fill='none' stroke='white' stroke-width='#{$stroke-width}'/%3E%3Crect x='#{$gap-center}' y='-1' width='#{$gap-calc}' height='#{$stroke-width * 2 + 5}' fill='black'/%3E%3C/mask%3E%3C/defs%3E%3Crect width='100%25' height='100%25' mask='url(%23m)'/%3E%3C/svg%3E");
        } @else if $opening == 'bottom' {
            mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cmask id='m'%3E%3Crect width='100%25' height='100%25' fill='black'/%3E%3Crect x='#{$half-stroke}' y='#{$half-stroke}' width='#{$stroke-calc}' height='#{$stroke-calc}' rx='#{$corner-radius}' ry='#{$corner-radius}' fill='none' stroke='white' stroke-width='#{$stroke-width}'/%3E%3Crect x='#{$gap-center}' y='calc(100%25 - #{$stroke-width + 5}px)' width='#{$gap-calc}' height='#{$stroke-width * 2 + 5}' fill='black'/%3E%3C/mask%3E%3C/defs%3E%3Crect width='100%25' height='100%25' mask='url(%23m)'/%3E%3C/svg%3E");
        } @else {
            mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cmask id='m'%3E%3Crect width='100%25' height='100%25' fill='black'/%3E%3Crect x='#{$half-stroke}' y='#{$half-stroke}' width='#{$stroke-calc}' height='#{$stroke-calc}' rx='#{$corner-radius}' ry='#{$corner-radius}' fill='none' stroke='white' stroke-width='#{$stroke-width}'/%3E%3C/mask%3E%3C/defs%3E%3Crect width='100%25' height='100%25' mask='url(%23m)'/%3E%3C/svg%3E");
        }
    }
}

@keyframes gradient-flow {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

// Verwendung:
// .has_border {
//     &.opening-left {
//         @include mask-border('left');
//     }
//     &.opening-right {
//         @include mask-border('right');
//     }
//     &.opening-top {
//         @include mask-border('top');
//     }
//     &.opening-bottom {
//         @include mask-border('bottom');
//     }
// }

// // Mit eigenen Werten:
// .my-element {
//     @include mask-border('left', 30, 15, 4, -15px);
// }